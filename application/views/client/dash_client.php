<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">

<main class="main-content  mt-0">
    <div class="container">
        <section class="banner__slider">
            <div class="slider stick-dots" style="top: 50px;">
                <div class="slide" style="border-radius: 1rem;">
                    <div class="slide__img">
                        <img src="" alt="" data-lazy="<?= base_url('upload'); ?>/KPRBRIKANPA.jpg" class="full-image" />
                    </div>
                    <div class="slide__content ">
                        <div class="slide__content--headings text-center">
                        </div>
                    </div>
                </div>
                <!-- <div class="slide" style="border-radius: 1rem;">
                    <div class="slide__img">
                        <img src="" alt="" data-lazy="<?= base_url('upload'); ?>/agh.jpg" class="full-image" />
                    </div>
                    <div class="slide__content ">
                        <div class="slide__content--headings text-center">
                        </div>
                    </div>
                </div>
                <div class="slide" style="border-radius: 1rem;">
                    <div class="slide__img">
                        <img src="" alt="" data-lazy="<?= base_url('upload'); ?>/ath.jpg" class="full-image" />
                    </div>
                    <div class="slide__content ">
                        <div class="slide__content--headings text-center">
                        </div>
                    </div>
                </div>
                <div class="slide" style="border-radius: 1rem;">
                    <div class="slide__img">
                        <img src="" alt="" data-lazy="<?= base_url('upload'); ?>/bp1.jpg" class="full-image" />
                    </div>
                    <div class="slide__content ">
                        <div class="slide__content--headings text-center">
                        </div>
                    </div>
                </div>
                <div class="slide" style="border-radius: 1rem;">
                    <div class="slide__img">
                        <img src="" alt="" data-lazy="<?= base_url('upload'); ?>/bp2.jpg" class="full-image" />
                    </div>
                    <div class="slide__content ">
                        <div class="slide__content--headings text-center">
                        </div>
                    </div>
                </div>
                <div class="slide" style="border-radius: 1rem;">
                    <div class="slide__img">
                        <img src="" alt="" data-lazy="<?= base_url('upload'); ?>/taman-kautsar.jpg" class="full-image" />
                    </div>
                    <div class="slide__content ">
                        <div class="slide__content--headings text-center">
                        </div>
                    </div>
                </div> -->
                <!-- <div class="slide" style="border-radius: 1rem;">
                    <div class="slide__img">
                        <img src="" alt="" data-lazy="<?= base_url('upload'); ?>/KPRBRIKANPA.jpg" class="full-image" />
                    </div>
                    <div class="slide__content ">
                        <div class="slide__content--headings text-center">
                            <p class="animated top-title fontsize-text-header m-0" id="text-radius" data-animation-in="fadeInUp" data-delay-in="0.3">SELAMAT HARI JADI</p>
                            <div class="animated title" data-animation-in="fadeInUp">
                                <center>
                                    <img src="<?= base_url('upload'); ?>/logo-455.png" alt="" class="img-fluid size-logo-header">
                                </center>
                            </div>
                        </div>
                    </div>
                </div> -->
                <!-- <div class="slide">
                    <div class="slide__img ">
                        <img src="" alt="" data-lazy="<?= base_url('upload'); ?>/header-jatim-000.jpg" class="full-image animated" data-animation-in="zoomInImage" />
                    </div>
                    <div class="slide__content slide__content__left slide-cus">
                        <div class="slide__content--headings text-left">
                            <h5 class="animated title fontsize-text-header" data-animation-in="fadeInRight">SELAMAT DATANG DI</h5>
                            <h5 class="animated title fontsize-text-header" data-animation-in="fadeInRight">GRIYA KANZU CARUBAN</h5>
                            <p class="animated top-title p-header-sub" data-animation-in="fadeInRight" data-delay-in="0.2">Rumah Subsidi Rasa Komersil</p>
                        </div>
                    </div>
                </div> -->
                <!-- <div class="slide">
                    <div class="slide__img">
                        <img src="" alt="" data-lazy="https://images.unsplash.com/photo-1550461716-dbf266b2a8a7?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80" class="full-image animated" data-animation-in="zoomOutImage" />
                    </div>
                    <div class="slide__content slide__content__right">
                        <div class="slide__content--headings text-right">
                            <p class="animated top-title" data-animation-in="fadeInLeft" data-delay-in="0.2">Wish you have good food at our restaurant</p>
                            <h2 class="animated title" data-animation-in="fadeInLeft">Experience the food</h2>
                            <button class="btn-success btn button-custom animated text-white" data-animation-in="fadeInUp">Order Now</button>
                        </div>
                    </div>
                </div> -->
            </div>
            <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
                <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 44 44" width="44px" height="44px" id="circle" fill="none" stroke="currentColor">
                    <circle r="20" cy="22" cx="22" id="test">
                </symbol>
            </svg>
        </section>
        <div class="card mt-6" style="box-shadow: 0px 0px 12px rgb(0 0 0 / 34%);">
            <div class="card-body">
                <div class="row ">
                    <center>
                        <div class="header">
                            <h2 id="text-regist">Silahkan isi data diri anda</h2>
                        </div>
                        <p class="p-regist">Event KPR BRI Poperty Expo 24 November 2023 - 26 November 2023</p>
                        <hr style="background: #00000029;margin: 0;height: 2px;">
                    </center>
                    <div class="col-lg-2 col-12 mt-3 p-0">
                        <div class="input-wrapper">
                            <input type="text" id="nama" class="" required>
                            <label class="label-in" for="nama">nama</label>
                        </div>
                    </div>
                    <div class="col-lg-2 col-12 mt-3 p-0">
                        <div class="input-wrapper">
                            <input type="number" id="no-hp" required>
                            <label class="label-in" for="no-hp">No.Hp</label>
                        </div>
                    </div>
                    <div class="col-lg-6 col-12 mt-3 p-0">
                        <div class="input-wrapper">
                            <input type="text" id="alamat" required>
                            <label class="label-in" for="alamat">Alamat</label>
                        </div>
                    </div>

                    <div class="col-lg-2 col-12 mt-3">
                        <button type="button" id="btn-submit" class="col-12 btn mb-0  bg-gradient-info" style="height: 46px;">Submit</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>
<script type="text/javascript" src="https://alexandrebuffet.fr/codepen/slider/slick-animation.min.js"></script>
<!-- <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script> -->
<!-- <script type="text/javascript" src="http://tympanus.net/Development/Arctext/js/jquery.arctext.js"></script> -->
<script type="text/javascript" src="<?= base_url('assets'); ?>/js/arctext.js"></script>

</head>

<script>
    $('#text-radius').arctext({
        radius: 600
    });

    $('#btn-submit').click(function(e) {
        if ($('#nama').val() == '' || $('#no-hp').val() == '' || $('#alamat').val() == '') {
            if ($('#nama').val() == '') {
                $('#nama').addClass('border-in-error', true);
            } else {

                $('#nama').removeClass('border-in-error');
            }
            if ($('#no-hp').val() == '') {
                $('#no-hp').addClass('border-in-error');
            } else {

                $('#no-hp').removeClass('border-in-error');
            }
            if ($('#alamat').val() == '') {
                $('#alamat').addClass('border-in-error');
            } else {

                $('#alamat').removeClass('border-in-error');
            }

        } else {
            // alert('yaa')
            let formData = new FormData();
            formData.append('nama', $('#nama').val());
            formData.append('no-hp', $('#no-hp').val());
            formData.append('alamat', $('#alamat').val());
            $.ajax({
                type: 'POST',
                url: "<?php echo site_url('Client/save_customer'); ?>",
                data: formData,
                cache: false,
                processData: false,
                contentType: false,
                success: function(data) {
                    success();

                },
                error: function() {
                    alert("Data Gagal Diupload");
                }
            });
        }

    });
    // success();

    function success() {
        let timerInterval
        Swal.fire({
            title: 'Prosess registration ...',
            html: 'I will close in <b></b> milliseconds.',
            timer: 2000,
            timerProgressBar: true,
            didOpen: () => {
                Swal.showLoading()
                const b = Swal.getHtmlContainer().querySelector('b')
                timerInterval = setInterval(() => {
                    b.textContent = Swal.getTimerLeft()
                }, 100)
            },
            willClose: () => {
                clearInterval(timerInterval)
                Swal.fire({
                    title: 'Succes!',
                    text: 'Terimakasih anda telah berkunjung di booth kami',
                    icon: 'success',
                    confirmButtonText: 'Ok'
                })
                // $('#btn-submit').removeClass('bg-gradient-info').addClass('bg-gradient-success').text('Success').attr('disabled', true);
                $('#nama, #no-hp, #alamat').val('');
                // $('.label-in').addClass('color-success');
                // $('#text-regist').text('Registrasi anda berhasil disimpan')
            }
        }).then((result) => {
            /* Read more about handling dismissals below */
            if (result.dismiss === Swal.DismissReason.timer) {
                console.log('I was closed by the timer')
            }
        })
    }
    // add your code here!
    // see https://www.skypack.dev/view/sweetalert2 for README
    /*
     ** With Slick Slider Plugin : https://github.com/marvinhuebner/slick-animation
     ** And Slick Animation Plugin : https://github.com/marvinhuebner/slick-animation
     */

    // Init slick slider + animation
    $('.slider').slick({
        autoplay: true,
        speed: 800,
        lazyLoad: 'progressive',
        arrows: true,
        dots: false,
        prevArrow: '<div class="slick-nav prev-arrow"><i></i><svg><use xlink:href="#circle"></svg></div>',
        nextArrow: '<div class="slick-nav next-arrow"><i></i><svg><use xlink:href="#circle"></svg></div>',
    }).slickAnimation();



    $('.slick-nav').on('click touch', function(e) {

        e.preventDefault();

        var arrow = $(this);

        if (!arrow.hasClass('animate')) {
            arrow.addClass('animate');
            setTimeout(() => {
                arrow.removeClass('animate');
            }, 1600);
        }

    });
</script>